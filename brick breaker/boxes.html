<html>
	<head>
		<title></title>
		<link href="boxes.css" rel="stylesheet" />
	</head>
	
	<body>
	<div class="background">
		
	</div>
		
		<script src="Box.js"></script>
		<script src="Main.js"></script>


		<script type="text/javascript">
			var main=new Main(3);

			var background = document.getElementsByClassName('background')[0];
			var ball = document.getElementsByClassName('box')[0];

			var coordinate = document.getElementById('coordinate');
			var p1X=ball.offsetLeft+ball.offsetWidth/2;
			var p1Y=ball.offsetTop+ball.offsetHeight/2;

			document.onkeydown = checkKey;
			var intercalId;
			function checkKey(e) {
			    e = e || window.event;

			    if (e.keyCode == '38') {
			        console.log("up");
			    }
			    else if (e.keyCode == '40') {
			        console.log("down");
			        // down arrow
			    }
			    else if (e.keyCode == '37') {
			        console.log("left");
			        main.movePadLeft();
			       // left arrow
			    }
			    else if (e.keyCode == '39') {
			        console.log("right");
			        main.movePadRight();
			       // right arrow
			    }
			    else if (e.keyCode == '32') {
			        console.log("Start");main.putVelocity(5);
			        intervalId = setInterval(function(){if(main.play()){clearInterval(intervalId);showEndMessage();}}  , 30);
			       //main.putVelocity(2);main.play();
			    }

			}
			function showEndMessage(){
				var endMessage = document.createElement('div');
				endMessage.style.paddingTop = 250+'px';
				endMessage.style.paddingLeft = 350 + 'px';
				endMessage.style.background = 'red';
				console.log(endMessage);
				endMessage.appendChild(document.createTextNode('The End'));
				background.appendChild(endMessage);
			}
			
		</script>
	</body>
</html>